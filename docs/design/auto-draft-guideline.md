# 기획서 작성 지침 (Mockup-based Auto Planning Guideline)

본 문서는 목업 사이트 캡처 및 기능 분석 결과를 바탕으로
자동 생성되는 **최종 기획 문서의 구성 순서, 포함 내용, 작성 기준**을 정의한다.

본 지침은 사람이 읽기 위한 설명서가 아니라,
**자동 생성 → 검토 → PPT / HTML 변환**을 전제로 한 표준 규격이다.

---

# 1. 표지 (Cover)

## 포함 항목
- 문서명
- 프로젝트명
- 버전
- 작성 조직
- 작성일

## 작성 기준
- 장식 요소 최소화
- 문서 식별 목적에 집중
- 자동 생성 시 프로젝트 메타 정보 기반으로 채운다

---

# 2. 변경 이력 (Revision History)

## 포함 항목
- 버전
- 변경 일자
- 변경 내용 요약
- 변경 주체

## 작성 기준
- 자동 생성 시 최초 버전은 반드시 기록
- 이후 수동 수정 이력도 누적 가능해야 함
- “무엇이 바뀌었는지” 한 줄로 식별 가능해야 함

---

# 3. 목차 (Table of Contents)

## 포함 항목
- 전체 섹션 목록
- 화면 정의 하위 항목 포함

## 작성 기준
- 자동 생성
- PPT / HTML 변환 시 네비게이션 역할 수행
- 화면 단위 항목은 화면 ID 기준으로 표기

---

# 4. 목차별 타이틀 페이지 (Section Divider)

## 포함 항목
- 섹션명
- 섹션 목적 요약 (1~2문장)

## 작성 기준
- 각 대단원 시작 시 1페이지 사용
- 이후 내용에 대한 “맥락 안내” 역할
- 상세 설명 금지

---

# 5. 용어 정의 (Glossary)

## 포함 항목
- 용어
- 정의
- 사용 맥락

## 작성 기준
- 기획서 전반에서 사용되는 용어만 포함
- 화면/정책/데이터에서 반복 사용되는 용어 우선
- 해석의 여지가 있는 표현은 반드시 정의

---

# 6. 정책 (Policy Definition)

## 포함 항목
- 공통 정책
- 입력/처리/저장 정책
- 권한 및 접근 정책
- 예외 처리 원칙

## 작성 기준
- “화면과 무관한 판단 기준”을 이 섹션에 집중
- 화면 정의에 중복 작성하지 않는다
- 개발자가 이 섹션만 보고 공통 로직 구현 가능해야 함

---

# 7. 프로세스 흐름 (Process Flow)

## 포함 항목
- 전체 서비스 프로세스 흐름
- 주요 분기 조건
- 시작 / 종료 지점

## 표현 방식
- 텍스트 설명 + 플로우 차트 이미지 병행
- 화면 ID 기준으로 흐름 표현

## 작성 기준
- 한 장으로 전체 구조 파악 가능해야 함
- 사용자 관점의 흐름 기준
- 화면 정의의 상위 개념 역할

---

# 8. 화면 정의 (Screen Definition)

> 본 기획서의 핵심 섹션  
> 화면 단위로 **와이어프레임 + 기능 + 정책 + 흐름**을 모두 포함한다

---

## 8.1 화면 목록 요약

### 포함 항목
- 화면 ID
- 화면명
- 화면 목적
- 대응 프로세스 단계

### 기준
- 이후 모든 참조는 화면 ID 기준
- 화면 누락 여부를 검증하는 역할

---

## 8.2 화면 단위 상세 정의

### 공통 원칙
- 화면 1개 = 기획 단위 1개
- PPT 기준 1~2페이지 분량
- 아래 구성은 반드시 유지

---

### 8.2.1 화면 기본 정보

#### 포함 항목
- 화면 ID
- 화면명
- 화면 목적
- 진입 조건
- 이탈 조건

---

### 8.2.2 와이어프레임 (필수)

#### 포함 항목
- 화면 구조 다이어그램
- UI 영역 구분
- 주요 구성 요소 배치

#### 작성 기준
- 디자인이 아닌 구조 중심
- 목업 캡처 또는 단순화된 와이어프레임 사용
- UI 구현 기준으로 활용 가능해야 함

---

### 8.2.3 화면 내 프로세스 흐름

#### 포함 항목
- 사용자 액션
- 시스템 처리
- 화면 전환 또는 상태 변화

#### 작성 기준
- 해당 화면 내부의 세부 흐름 설명
- 상위 프로세스 흐름의 확장 개념

---

### 8.2.4 화면 구성 요소 정의

#### 포함 항목
- 요소 ID
- 요소 유형
- 표시 조건
- 사용자 액션

---

### 8.2.5 기능 및 정책 상세

#### 포함 항목
- 처리 로직
- 성공/실패 조건
- 시스템 메시지
- 예외 처리

#### 작성 기준
- 기획자의 판단 여지 제거
- 개발자가 그대로 구현 가능해야 함

---

# 9. 참고 문헌 (Reference)

## 포함 항목
- 참고 URL
- 기준 문서
- 외부 가이드 또는 레퍼런스

## 작성 기준
- 판단 근거가 되는 자료만 포함
- 선택 사항이지만 권장

---

# 10. EOD (End of Document)

## 포함 항목
- 문서 종료 표시

## 작성 기준
- 자동 생성 문서의 끝을 명확히 구분
- 이후 내용이 없음을 명시

---

# 11. ID 부여 규칙 (Identifier Scheme)

> **중요**: 모든 자동 생성 에이전트는 이 섹션의 ID 형식을 엄격히 준수해야 함

---

## 11.1 정책 ID (Policy ID)

### 형식
```
POL-{CATEGORY}-{SEQUENTIAL}
```

### 카테고리 코드 (2-5자)

**기본 카테고리** (7개):
- `AUTH`: 인증/권한
- `VAL`: 입력 검증
- `DATA`: 데이터 처리
- `ERR`: 에러 처리
- `SEC`: 보안
- `BIZ`: 비즈니스 로직
- `UI`: UI/UX 정책

**확장 가이드라인**:

프로젝트 요구사항에 따라 카테고리를 확장할 수 있습니다.

**확장 시 고려사항**:
1. 기본 7개 카테고리로 분류 불가능한 정책이 5개 이상일 때
2. 특정 도메인에 고유한 정책 그룹이 명확할 때
3. 카테고리명은 2-5자 영문 대문자로 제한

**확장 예시**:
- `NOTIF`: 알림 정책 (푸시, 이메일, SMS)
- `PAY`: 결제 정책 (결제 수단, 환불, 취소)
- `SHIP`: 배송 정책 (배송비, 배송지, 배송 방법)
- `RPT`: 리포팅 정책 (보고서 생성, 통계)
- `INTEG`: 외부 연동 정책 (API 통신, 3rd party)

**확장 시 주의사항**:
- 새 카테고리 추가 시 이 문서 업데이트 필수
- quality-validator에 새 카테고리 허용 목록 추가 필요
- 기존 BIZ 카테고리와 중복되지 않도록 명확한 구분 기준 정의

### 연번 규칙
- 카테고리별로 001부터 시작
- 3자리 숫자, 0 패딩

### 예시
- `POL-AUTH-001`: 첫 번째 인증 정책 (예: "로그인 실패 3회 시 계정 잠금")
- `POL-AUTH-002`: 두 번째 인증 정책 (예: "비밀번호 최소 8자 이상")
- `POL-VAL-001`: 첫 번째 검증 정책 (예: "이메일 형식 검증")
- `POL-BIZ-003`: 세 번째 비즈니스 정책

---

## 11.2 화면 ID (Screen ID)

### 형식
```
SCR-{SEQUENTIAL}
```

### 연번 규칙
- 전체 화면 중 001부터 시작
- 3자리 숫자, 0 패딩
- 화면 진입 순서 또는 프로세스 순서 기준

### 예시
- `SCR-001`: 첫 번째 화면 (예: 메인 화면)
- `SCR-002`: 두 번째 화면 (예: 로그인 화면)
- `SCR-015`: 열다섯 번째 화면

---

## 11.3 UI 요소 ID (Element ID)

### 형식
```
{TYPE}-{SEQUENTIAL}
```

### 타입 코드 (3-4자)
- `BTN`: 버튼
- `FORM`: 폼
- `INPUT`: 입력 필드
- `LINK`: 링크
- `TABLE`: 테이블
- `MODAL`: 모달
- `NAV`: 네비게이션
- `CARD`: 카드
- `LIST`: 리스트

### 연번 규칙
- 전체 요소 중 타입별로 001부터 시작
- 3자리 숫자, 0 패딩

### 예시
- `BTN-001`: 첫 번째 버튼 (예: "시작하기" 버튼)
- `FORM-001`: 첫 번째 폼 (예: 로그인 폼)
- `INPUT-003`: 세 번째 입력 필드

---

## 11.4 API ID

### 형식
```
API-{SEQUENTIAL}
```

### 연번 규칙
- 전체 API 중 001부터 시작
- 3자리 숫자, 0 패딩
- 발견 순서 기준

### 예시
- `API-001`: 첫 번째 API (예: POST /api/auth/login)
- `API-002`: 두 번째 API (예: GET /api/users)
- `API-010`: 열 번째 API

---

## 11.5 ID 참조 규칙

### 화면에서 정책 참조
```markdown
## 화면 정의: SCR-001 (로그인 화면)

관련 정책:
- POL-AUTH-001: 로그인 실패 제한
- POL-VAL-001: 이메일 형식 검증
```

### 화면에서 요소 참조
```markdown
## UI 요소

- BTN-001: "로그인" 버튼
  - 동작: FORM-001 제출
  - 연결 API: API-001
```

### 프로세스에서 화면 참조
```markdown
## 프로세스 흐름

1. SCR-001 (메인 화면) → "시작하기" 클릭
2. SCR-002 (로그인 화면) → 로그인 성공 시
3. SCR-003 (대시보드)
```

---

## 11.6 ID 일관성 검증

### 자동 검증 (quality-validator)

quality-validator 에이전트는 다음을 검증해야 함:

1. **ID 형식 검증**
   - 모든 정책 ID가 `POL-{CATEGORY}-{SEQ}` 형식인가?
   - 모든 화면 ID가 `SCR-{SEQ}` 형식인가?

2. **참조 무결성 검증**
   - 화면정의서에서 참조한 `POL-AUTH-001`이 정책정의서에 존재하는가?
   - 프로세스 흐름에서 참조한 `SCR-003`이 화면 목록에 존재하는가?

3. **중복 검증**
   - `POL-AUTH-001`이 두 번 정의되지 않았는가?
   - `SCR-001`이 여러 화면에 할당되지 않았는가?

4. **순차성 검증**
   - `POL-AUTH-001`, `POL-AUTH-002`가 있는데 `POL-AUTH-005`가 있는가? (003, 004 누락)

---

## 최종 원칙

이 기획 문서는
**설명서가 아니라 실행 기준서**다.

- 정책은 판단을 고정하고
- 프로세스는 흐름을 고정하며
- 화면 정의는 구현을 고정한다

사람은 검토만 하고,
문서는 결정을 대신한다.
